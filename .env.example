# =============================================================================
# Backend Environment Variables - 2026 Security Best Practices
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=8000

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# MongoDB connection string
# For local: mongodb://localhost:27017/youtube-clone
# For Atlas: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<dbname>
MONGODB_URI=mongodb://localhost:27017/youtube-clone

# -----------------------------------------------------------------------------
# JWT Configuration - CRITICAL SECURITY
# -----------------------------------------------------------------------------
# Generate secure random strings for production:
# Node.js: require('crypto').randomBytes(64).toString('hex')
# Or use: openssl rand -hex 64

# Access token secret (used for short-lived tokens)
# MUST be different from refresh token secret
JWT_ACCESS_SECRET_KEY=your-super-secret-access-token-key-change-in-production-minimum-64-chars

# Refresh token secret (used for long-lived tokens)  
# MUST be different from access token secret
JWT_REFRESH_SECRET_KEY=your-super-secret-refresh-token-key-change-in-production-minimum-64-chars

# Token expiration times
# Access token: Short-lived (15 minutes recommended for security)
ACCESS_TOKEN_EXPIRES=15m

# Refresh token: Long-lived (7 days is a good balance)
REFRESH_TOKEN_EXPIRES=7d

# Refresh token expiry in days (used for database storage calculation)
REFRESH_TOKEN_EXPIRES_DAYS=7

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Frontend URL for CORS (comma-separated for multiple origins)
FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Cloudinary Configuration (for media uploads)
# -----------------------------------------------------------------------------
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# -----------------------------------------------------------------------------
# Cookie Configuration
# -----------------------------------------------------------------------------
# Cookie domain (leave empty for development)
# In production, set to your domain: .yourdomain.com
COOKIE_DOMAIN=

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Login attempts before lockout
LOGIN_MAX_ATTEMPTS=5

# Lockout duration in minutes
LOGIN_LOCKOUT_MINUTES=15

# Rate limit window in minutes
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# [ ] NODE_ENV is set to "production"
# [ ] All secret keys are unique, random, and at least 64 characters
# [ ] Access and refresh token secrets are DIFFERENT
# [ ] HTTPS is enforced (secure cookies require HTTPS)
# [ ] CORS origins are restricted to your frontend domain only
# [ ] Rate limiting is enabled and configured appropriately
# [ ] Database connection uses SSL/TLS
# [ ] Cloudinary credentials are for your production account
# =============================================================================
